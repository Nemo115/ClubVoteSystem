{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luden\\\\OneDrive\\\\Documents\\\\University\\\\cissa\\\\Codebrew\\\\ClubVoteSystem\\\\frontend\\\\vote-system\\\\src\\\\Pages\\\\Voting.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useRef } from 'react';\nimport { themeBackground } from '../constants';\nimport { themeHighlight } from '../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Voting() {\n  _s();\n  // Getting code from URL\n  const url = 'http://localhost:5000';\n  const searchParams = new URLSearchParams(window.location.search);\n  const code = searchParams.get('code');\n  const [nominees, setNominees] = useState([]);\n  const requestOptions = {\n    method: 'GET'\n  };\n  fetch(url + '/code', requestOptions).then(response => {\n    if (!response.ok) {\n      throw new Error(\"Network response not ok\");\n    }\n    return response.json();\n  }).then(data => {\n    setNominees(data);\n  }).catch(error => {\n    console.error('Error', error);\n  });\n  var positions = [];\n  for (let i = 0; i < nominees.length; i++) {\n    if (!positions.includes(nominees[i].position)) {\n      positions.push(nominees[i].position);\n    }\n  }\n  const dragPerson = useRef(0);\n  const draggedOverPerson = useRef(0);\n  function handleSort() {\n    const nomineesClone = [...nominees];\n    const temp = nomineesClone[dragPerson.current];\n    if (nomineesClone[dragPerson.current].position === nomineesClone[draggedOverPerson.current].position) {\n      nomineesClone[dragPerson.current] = nomineesClone[draggedOverPerson.current];\n      nomineesClone[draggedOverPerson.current] = temp;\n      setNominees(nomineesClone);\n    }\n  }\n  function submit() {\n    var return_nominees = [...nominees];\n    for (let i = 0; i < positions.length; i++) {\n      var candidates_in_position = [];\n      // Get all candidates in a position and add to list\n      for (let j = 0; j < nominees.length; j++) {\n        if (nominees[j].position === positions[i]) {\n          candidates_in_position.push(nominees[j]);\n        }\n      }\n      var highest_score = candidates_in_position.length;\n      for (let j = 0; j < candidates_in_position.length; j++) {\n        candidates_in_position[j].score = highest_score - j;\n      }\n      candidates_in_position.forEach(function (value) {\n        for (let j = 0; j < return_nominees; j++) {\n          if (return_nominees[j].name === value.name) {\n            return_nominees[j] = value;\n          }\n        }\n      });\n    }\n    // Update this with POST to API Later\n    console.log(return_nominees);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Voting Process\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-x1 font-bold mt-4\",\n      children: positions.map((position, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: position\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: nominees.map((nominee, index) => nominee.position === position && /*#__PURE__*/_jsxDEV(\"div\", {\n            draggable: true,\n            onDragStart: () => dragPerson.current = index,\n            onDragEnter: () => draggedOverPerson.current = index,\n            onDragEnd: handleSort,\n            onDragOver: e => e.preventDefault(),\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: nominee.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 62\n          }, this))\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      style: formStyle.submitButton,\n      onClick: submit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(Voting, \"L+dgNYAmARUFzjazZQB10Y5xbS0=\");\n_c = Voting;\nconst listStyle = {\n  listStyle: \"none\",\n  fontSize: \"30px\"\n};\nconst checkBoxstyle = {\n  width: \"1rem\",\n  height: \"1rem\"\n};\nconst formStyle = {\n  input: {\n    marginTop: '0.5rem',\n    width: '70%',\n    height: '2rem',\n    fontSize: '1rem',\n    textAlign: 'center',\n    marginBottom: '0.5rem',\n    marginLeft: '0.5rem'\n  },\n  label: {\n    wdith: '100%',\n    fontSize: '20px'\n  },\n  submitButton: {\n    backgroundColor: themeHighlight,\n    color: 'white',\n    fontSize: '1.5rem',\n    padding: '0.5rem',\n    width: '100%',\n    borderRadius: '0.5rem',\n    marginTop: '1rem'\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"Voting\");","map":{"version":3,"names":["React","useState","useRef","themeBackground","themeHighlight","jsxDEV","_jsxDEV","Voting","_s","url","searchParams","URLSearchParams","window","location","search","code","get","nominees","setNominees","requestOptions","method","fetch","then","response","ok","Error","json","data","catch","error","console","positions","i","length","includes","position","push","dragPerson","draggedOverPerson","handleSort","nomineesClone","temp","current","submit","return_nominees","candidates_in_position","j","highest_score","score","forEach","value","name","log","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","index","nominee","draggable","onDragStart","onDragEnter","onDragEnd","onDragOver","e","preventDefault","type","style","formStyle","submitButton","onClick","_c","listStyle","fontSize","checkBoxstyle","width","height","input","marginTop","textAlign","marginBottom","marginLeft","label","wdith","backgroundColor","color","padding","borderRadius","$RefreshReg$"],"sources":["C:/Users/luden/OneDrive/Documents/University/cissa/Codebrew/ClubVoteSystem/frontend/vote-system/src/Pages/Voting.js"],"sourcesContent":["import React from 'react'\r\nimport { useState, useRef } from 'react';\r\nimport { themeBackground } from '../constants';\r\nimport { themeHighlight } from '../constants';\r\n\r\nexport default function Voting() {\r\n    // Getting code from URL\r\n    const url = ('http://localhost:5000')\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    const code = searchParams.get('code')\r\n\r\n    const [nominees, setNominees] = useState([])\r\n\r\n    const requestOptions = {\r\n        method: 'GET',\r\n    };\r\n\r\n    fetch(url + '/code', requestOptions)\r\n    .then(response => {\r\n        if (!response.ok) {\r\n            throw new Error(\"Network response not ok\");\r\n        }\r\n        return response.json();\r\n    }).then(data => {\r\n        setNominees(data);\r\n    }).catch(error => {\r\n        console.error('Error', error);\r\n    })\r\n\r\n    var positions = []\r\n    for (let i=0;i<nominees.length;i++) {\r\n        if (!positions.includes(nominees[i].position)) {\r\n            positions.push(nominees[i].position);\r\n        }\r\n    }\r\n\r\n    const dragPerson = useRef(0)\r\n    const draggedOverPerson = useRef(0)\r\n\r\n    function handleSort() {\r\n        const nomineesClone = [...nominees]\r\n        const temp = nomineesClone[dragPerson.current]\r\n        if (nomineesClone[dragPerson.current].position === nomineesClone[draggedOverPerson.current].position) {\r\n            nomineesClone[dragPerson.current] = nomineesClone[draggedOverPerson.current]\r\n            nomineesClone[draggedOverPerson.current] = temp\r\n            setNominees(nomineesClone)\r\n        }\r\n    }\r\n\r\n    function submit() {\r\n        var return_nominees = [...nominees]\r\n        for (let i=0;i<positions.length;i++) {\r\n            var candidates_in_position = []\r\n            // Get all candidates in a position and add to list\r\n            for (let j=0;j<nominees.length;j++) {\r\n                if (nominees[j].position === positions[i]) {\r\n                    candidates_in_position.push(nominees[j]);\r\n                }\r\n            }\r\n            var highest_score = candidates_in_position.length\r\n            for (let j=0;j<candidates_in_position.length;j++) {\r\n                candidates_in_position[j].score = highest_score-j;\r\n            }\r\n            candidates_in_position.forEach(function(value) {\r\n                for (let j=0;j<return_nominees;j++) {\r\n                    if (return_nominees[j].name === value.name) {\r\n                        return_nominees[j] = value;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        // Update this with POST to API Later\r\n        console.log(return_nominees);\r\n    }\r\n  return (\r\n    <div>\r\n        <h2>Voting Process</h2>\r\n        <div className='text-x1 font-bold mt-4'>\r\n            {positions.map((position, index) => (\r\n                <div>\r\n                    <h1>{position}</h1>\r\n                    <div key={index}>\r\n                        {nominees.map((nominee, index) => (\r\n                            nominee.position === position && <div \r\n                            draggable\r\n                            onDragStart={() => (dragPerson.current = index)}\r\n                            onDragEnter = {() => (draggedOverPerson.current = index)}\r\n                            onDragEnd={handleSort}\r\n                            onDragOver={(e) => e.preventDefault()}>\r\n                                <p>{nominee.name}</p>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n        <input type=\"submit\" style={formStyle.submitButton} onClick={submit}/>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nconst listStyle = {\r\n    listStyle: \"none\",\r\n    fontSize: \"30px\"\r\n}\r\n\r\nconst checkBoxstyle = {\r\n    width: \"1rem\",\r\n    height: \"1rem\"\r\n}\r\n\r\nconst formStyle = {\r\n    input: {\r\n        marginTop: '0.5rem',\r\n        width: '70%',\r\n        height: '2rem',\r\n        fontSize: '1rem',\r\n        textAlign: 'center',\r\n        marginBottom: '0.5rem',\r\n        marginLeft: '0.5rem'\r\n    },\r\n    label: {\r\n        wdith: '100%',\r\n        fontSize: '20px'\r\n    },\r\n    submitButton: {\r\n        backgroundColor: themeHighlight,\r\n        color: 'white',\r\n        fontSize: '1.5rem',\r\n        padding: '0.5rem',\r\n        width: '100%',\r\n        borderRadius: '0.5rem',\r\n        marginTop: '1rem',\r\n    },\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACxC,SAASC,eAAe,QAAQ,cAAc;AAC9C,SAASC,cAAc,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,eAAe,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAC7B;EACA,MAAMC,GAAG,GAAI,uBAAwB;EACrC,MAAMC,YAAY,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;EAChE,MAAMC,IAAI,GAAGL,YAAY,CAACM,GAAG,CAAC,MAAM,CAAC;EAErC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAE5C,MAAMkB,cAAc,GAAG;IACnBC,MAAM,EAAE;EACZ,CAAC;EAEDC,KAAK,CAACZ,GAAG,GAAG,OAAO,EAAEU,cAAc,CAAC,CACnCG,IAAI,CAACC,QAAQ,IAAI;IACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;IAC9C;IACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,CAACJ,IAAI,CAACK,IAAI,IAAI;IACZT,WAAW,CAACS,IAAI,CAAC;EACrB,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IACdC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;EACjC,CAAC,CAAC;EAEF,IAAIE,SAAS,GAAG,EAAE;EAClB,KAAK,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACf,QAAQ,CAACgB,MAAM,EAACD,CAAC,EAAE,EAAE;IAChC,IAAI,CAACD,SAAS,CAACG,QAAQ,CAACjB,QAAQ,CAACe,CAAC,CAAC,CAACG,QAAQ,CAAC,EAAE;MAC3CJ,SAAS,CAACK,IAAI,CAACnB,QAAQ,CAACe,CAAC,CAAC,CAACG,QAAQ,CAAC;IACxC;EACJ;EAEA,MAAME,UAAU,GAAGnC,MAAM,CAAC,CAAC,CAAC;EAC5B,MAAMoC,iBAAiB,GAAGpC,MAAM,CAAC,CAAC,CAAC;EAEnC,SAASqC,UAAUA,CAAA,EAAG;IAClB,MAAMC,aAAa,GAAG,CAAC,GAAGvB,QAAQ,CAAC;IACnC,MAAMwB,IAAI,GAAGD,aAAa,CAACH,UAAU,CAACK,OAAO,CAAC;IAC9C,IAAIF,aAAa,CAACH,UAAU,CAACK,OAAO,CAAC,CAACP,QAAQ,KAAKK,aAAa,CAACF,iBAAiB,CAACI,OAAO,CAAC,CAACP,QAAQ,EAAE;MAClGK,aAAa,CAACH,UAAU,CAACK,OAAO,CAAC,GAAGF,aAAa,CAACF,iBAAiB,CAACI,OAAO,CAAC;MAC5EF,aAAa,CAACF,iBAAiB,CAACI,OAAO,CAAC,GAAGD,IAAI;MAC/CvB,WAAW,CAACsB,aAAa,CAAC;IAC9B;EACJ;EAEA,SAASG,MAAMA,CAAA,EAAG;IACd,IAAIC,eAAe,GAAG,CAAC,GAAG3B,QAAQ,CAAC;IACnC,KAAK,IAAIe,CAAC,GAAC,CAAC,EAACA,CAAC,GAACD,SAAS,CAACE,MAAM,EAACD,CAAC,EAAE,EAAE;MACjC,IAAIa,sBAAsB,GAAG,EAAE;MAC/B;MACA,KAAK,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC7B,QAAQ,CAACgB,MAAM,EAACa,CAAC,EAAE,EAAE;QAChC,IAAI7B,QAAQ,CAAC6B,CAAC,CAAC,CAACX,QAAQ,KAAKJ,SAAS,CAACC,CAAC,CAAC,EAAE;UACvCa,sBAAsB,CAACT,IAAI,CAACnB,QAAQ,CAAC6B,CAAC,CAAC,CAAC;QAC5C;MACJ;MACA,IAAIC,aAAa,GAAGF,sBAAsB,CAACZ,MAAM;MACjD,KAAK,IAAIa,CAAC,GAAC,CAAC,EAACA,CAAC,GAACD,sBAAsB,CAACZ,MAAM,EAACa,CAAC,EAAE,EAAE;QAC9CD,sBAAsB,CAACC,CAAC,CAAC,CAACE,KAAK,GAAGD,aAAa,GAACD,CAAC;MACrD;MACAD,sBAAsB,CAACI,OAAO,CAAC,UAASC,KAAK,EAAE;QAC3C,KAAK,IAAIJ,CAAC,GAAC,CAAC,EAACA,CAAC,GAACF,eAAe,EAACE,CAAC,EAAE,EAAE;UAChC,IAAIF,eAAe,CAACE,CAAC,CAAC,CAACK,IAAI,KAAKD,KAAK,CAACC,IAAI,EAAE;YACxCP,eAAe,CAACE,CAAC,CAAC,GAAGI,KAAK;UAC9B;QACJ;MACJ,CAAC,CAAC;IACN;IACA;IACApB,OAAO,CAACsB,GAAG,CAACR,eAAe,CAAC;EAChC;EACF,oBACEtC,OAAA;IAAA+C,QAAA,gBACI/C,OAAA;MAAA+C,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvBnD,OAAA;MAAKoD,SAAS,EAAC,wBAAwB;MAAAL,QAAA,EAClCtB,SAAS,CAAC4B,GAAG,CAAC,CAACxB,QAAQ,EAAEyB,KAAK,kBAC3BtD,OAAA;QAAA+C,QAAA,gBACI/C,OAAA;UAAA+C,QAAA,EAAKlB;QAAQ;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACnBnD,OAAA;UAAA+C,QAAA,EACKpC,QAAQ,CAAC0C,GAAG,CAAC,CAACE,OAAO,EAAED,KAAK,KACzBC,OAAO,CAAC1B,QAAQ,KAAKA,QAAQ,iBAAI7B,OAAA;YACjCwD,SAAS;YACTC,WAAW,EAAEA,CAAA,KAAO1B,UAAU,CAACK,OAAO,GAAGkB,KAAO;YAChDI,WAAW,EAAIA,CAAA,KAAO1B,iBAAiB,CAACI,OAAO,GAAGkB,KAAO;YACzDK,SAAS,EAAE1B,UAAW;YACtB2B,UAAU,EAAGC,CAAC,IAAKA,CAAC,CAACC,cAAc,CAAC,CAAE;YAAAf,QAAA,eAClC/C,OAAA;cAAA+C,QAAA,EAAIQ,OAAO,CAACV;YAAI;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CACR;QAAC,GAVIG,KAAK;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAWV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CACR;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eACNnD,OAAA;MAAO+D,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAEC,SAAS,CAACC,YAAa;MAACC,OAAO,EAAE9B;IAAO;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrE,CAAC;AAGV;AAACjD,EAAA,CA/FuBD,MAAM;AAAAmE,EAAA,GAANnE,MAAM;AAiG9B,MAAMoE,SAAS,GAAG;EACdA,SAAS,EAAE,MAAM;EACjBC,QAAQ,EAAE;AACd,CAAC;AAED,MAAMC,aAAa,GAAG;EAClBC,KAAK,EAAE,MAAM;EACbC,MAAM,EAAE;AACZ,CAAC;AAED,MAAMR,SAAS,GAAG;EACdS,KAAK,EAAE;IACHC,SAAS,EAAE,QAAQ;IACnBH,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,MAAM;IACdH,QAAQ,EAAE,MAAM;IAChBM,SAAS,EAAE,QAAQ;IACnBC,YAAY,EAAE,QAAQ;IACtBC,UAAU,EAAE;EAChB,CAAC;EACDC,KAAK,EAAE;IACHC,KAAK,EAAE,MAAM;IACbV,QAAQ,EAAE;EACd,CAAC;EACDJ,YAAY,EAAE;IACVe,eAAe,EAAEnF,cAAc;IAC/BoF,KAAK,EAAE,OAAO;IACdZ,QAAQ,EAAE,QAAQ;IAClBa,OAAO,EAAE,QAAQ;IACjBX,KAAK,EAAE,MAAM;IACbY,YAAY,EAAE,QAAQ;IACtBT,SAAS,EAAE;EACf;AACJ,CAAC;AAAA,IAAAP,EAAA;AAAAiB,YAAA,CAAAjB,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}